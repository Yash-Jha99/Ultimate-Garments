import{r as h,u as N,b as v,z as C,j as r,L as F,P as k,F as S,G as o,h as w,E as D,g as i,C as L,e as E,v as G}from"./index-729ca18d.js";import{R as P,a as b}from"./RadioGroup-456885e1.js";const B=()=>{const[n,c]=h.useState({firstName:!1,lastName:!1,email:!1,dob:!1,mobileNumber:!1,gender:!1}),[s,u]=h.useState({firstName:"",lastName:"",email:"",dob:"",mobileNumber:"",gender:"",notify:!1}),m=["First Name","Last Name","Email Id","Birth Date","Phone No.","Gender"],{id:d}=N(a=>a.auth.user),{enqueueSnackbar:x}=v(),l=a=>{const{name:e,value:t,checked:g}=a.target;n[e]=!1;let f={[e]:t};e==="notify"&&(f={[e]:g}),u(y=>({...y,...f}))},p=async()=>{for(let e in s)if(e!=="notify"){if(e==="mobileNumber"&&(isNaN(s[e].trim())||s[e].trim().length!==10))return c(t=>({...t,[e]:!0}));if(s[e].trim()===""){c(t=>({...t,[e]:!0}));return}}(await G("user/"+d,s)).status===200&&x("Profile Updated",{variant:"success"})},{loading:j}=C("user/"+d,null,a=>{const[e,t]=a.name.split(" ");u({firstName:e,lastName:t,email:a.email,dob:a.dob??"",mobileNumber:a.mobileNumber,gender:a.gender??"",notify:a.notify===1})});return j?r.jsx(F,{}):r.jsx(r.Fragment,{children:r.jsx(k,{sx:{p:{xs:1,sm:4}},elevation:2,children:r.jsxs(S,{children:[r.jsx(o,{p:2,container:!0,rowSpacing:{xs:1.5,sm:3},columnSpacing:{xs:1,sm:4},children:Object.keys(s).map((a,e)=>e<5?r.jsx(o,{item:!0,xs:e<2?6:12,children:r.jsx(w,{type:e===3?"date":"text",variant:"standard",placeholder:m[e],error:n[a],label:m[e],required:!0,fullWidth:!0,value:s[a],onChange:l,name:a,disabled:e===2,focused:!0,color:"secondary"})},a):e===5?r.jsxs(o,{item:!0,xs:12,children:[r.jsx(D,{error:n[a],color:"secondary",required:!0,children:"Gender"}),r.jsxs(P,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"gender",value:s[a],onChange:l,children:[r.jsx(i,{sx:{pr:4},value:"female",control:r.jsx(b,{color:"secondary"}),label:"Female"}),r.jsx(i,{value:"male",control:r.jsx(b,{color:"secondary"}),label:"Male"})]})]},e):r.jsx(o,{item:!0,xs:12,children:r.jsx(i,{label:"I want to recieve order updates on whatsaspp",control:r.jsx(L,{color:"secondary",checked:s.notify,onChange:l,name:"notify"})})},e))}),r.jsx(E,{sx:{mt:2,color:"black"},fullWidth:!0,variant:"contained",color:"primary",onClick:p,children:"Save Changes"})]})})})};export{B as default};
